/*──────────Internal & External Links──────────*/
/* Source View Resolved Links */

.cm-s-obsidian span.cm {
    &-url,
    &-link:not(.cm-formatting-link),
    &-link span.cm-underline,
    &-hmd-internal-link,
    &-hmd-internal-link span.cm-underline,
    &-hmd-footnote.cm-link,
    &-header.cm-hmd-internal-link { 
        color: var(--md-color-reslink);
        text-underline-position: under;
        text-decoration-thickness: 1px;

        transition: var(--duration-superfast)
                    var(--motion-smooth);

        &:hover {
            color: var(--md-color-reslink-hover);
            cursor: pointer;
        }

        &:active {
            color: var(--md-color-reslink-active);
        }
    }

    &-blockid {
        color: var(--md-color-reslink);
        text-underline-position: under;
        text-decoration-thickness: 1px;

        transition: var(--duration-superfast)
                    var(--motion-smooth);

        &:hover {
            color: var(--md-color-reslink-hover);
            cursor: pointer;
        }

        &:active {
            color: var(--md-color-reslink-active);
        }
    }
}

/* Source View Unresolved Links */
.cm-s-obsidian span.is-unresolved span.cm {
    &-link span.cm-underline,
    &-hmd-internal-link,
    &-hmd-internal-link span.cm-underline,
    &-header.cm-hmd-internal-link {
        color: var(--md-color-unreslink);
        text-underline-position: under;
        text-decoration-thickness: 1px;

        transition: var(--duration-superfast)
                    var(--motion-smooth);

        &:hover {
            color: var(--md-color-unreslink-hover);
            cursor: pointer;
        }

        &:active {
            color: var(--md-color-unreslink-active);
        }
    }
}

/* Preview Resolved Links */
a:not(a.footnote-link, a.tag, button.mod-cta a),
a code {
    .modal &,
    .view-content & {
        color: var(--md-color-reslink);
        text-underline-position: under;
        text-decoration-thickness: 1px;
        
        transition: var(--duration-superfast)
        var(--motion-smooth);
        
        &:hover {
            color: var(--md-color-reslink-hover);
            cursor: pointer;
        }
        
        &:active {
            color: var(--md-color-reslink-active);
        }
    }
}    

.internal-link,
.external-link {
    color: var(--md-color-reslink);
    text-underline-position: under;
    text-decoration-thickness: 1px;
    
    transition: var(--duration-superfast)
    var(--motion-smooth);
    
    &:hover {
        color: var(--md-color-reslink-hover);
        cursor: pointer;
    }
    
    &:active {
        color: var(--md-color-reslink-active);
    }

    &.is-unresolved {
        color: var(--md-color-unreslink);
        text-underline-position: under;
        text-decoration-thickness: 1px;

        transition: var(--duration-superfast)
                    var(--motion-smooth);

        &:hover {
            color: var(--md-color-unreslink-hover);
            cursor: pointer;
        }

        &:active {
            color: var(--md-color-unreslink-active);
        }
    }
}

a {
    .markdown-preview-view & {
        &.footnote-link {
            color: var(--md-color-reslink);
            text-underline-position: under;
            text-decoration-thickness: 1px;
        }
    }
}

/* Opacity of Unresolved Links Fix */
.markdown-source-view.mod-cm6 .is-unresolved,
.markdown-preview-view .internal-link.is-unresolved {
    opacity: 1;
}

/* External Link Icon Position Fix */
.external-link {
    background-position-y: initial;
}
