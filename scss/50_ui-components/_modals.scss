/*────────────────────────────────────
++++++++++++++++++++++++++++++++++++++
            Other Components
++++++++++++++++++++++++++++++++++++++
──────────────────────────────────────*/
/*────────────────────────────────────
            Modals
────────────────────────────────────*/
/*─────────All Modals──────────*/
.modal {
    width: 60vw;
    max-width: 60vw;
    min-height: 20vh;
    height: auto;
    max-height: 70vh;

    // Border and Overflow Fix
    border-radius: var(--scale-2-8);
    overflow-y: hidden;

    // Styles both Light and Dark Mode
    border: 1px solid rgba(100, 100, 100, 0.25);

    &.mod-settings,
    &.mod-settings .vertical-tab-container,
    &.mod-community-theme.mod-community-theme,
    &.mod-community-plugin {
        width: 60vw;
        max-width: 60vw;
        min-height: 20vh;
        height: auto;
        max-height: 70vh;
        
        // Border and Overflow Fix
        border-radius: var(--scale-2-8);
        overflow-y: hidden;

        // Styles both Light and Dark Mode
        border: 1px solid rgba(100, 100, 100, 0.25);

        .theme-light & {
            box-shadow: var(--shadow-xl)
                        var(--color-l-shadow-100);
        }

        .theme-dark & {
            box-shadow: var(--shadow-xl)
                        var(--color-d-shadow-100);
        }

        & .setting-item-control button.clickable-icon {
            padding: 0;
            margin-right: var(--scale-2-4);
        }
    }

    &.mod-image-lightbox {
        width: 90vw;
        max-width: 90vw;
        min-height: 20vh;
        height: auto;
        max-height: 90vh;
        
        // Border and Overflow Fix
        border-radius: var(--scale-2-8);
        overflow-y: hidden;
    }

    & .setting-hotkey {
        display: flex;
        align-items: center;
        align-self: center;

        & .setting-delete-hotkey {
            margin-right: 0;
            margin-left: var(--scale-2-6);
        }
    }

    /*─────────Settings Modal──────────*/
    & .modal-content .vertical-tab {
        &-header,
        &-header-group,
        &-content-container { // Content Container Reset
            padding: 0;
        }

        &-content {
            padding:    var(--scale-8-4)
                        var(--scale-8-4)
                        var(--scale-8-4)
                        var(--scale-8-4);
        }

        &-header,
        &-content-container .vertical-tab-content {
            flex: 0 0 220px;

            .theme-light & {
                background: var(--color-l-white);
            }

            .theme-dark & {
                background: var(--color-d-gray-70);
            }
        }

        &-header-group,
        &-nav-item {
            background: var(--background-secondary);
        }

        &-header-group-title {
            font-weight: var(--font-bold);
        }

        &-header-group-items .vertical-tab-nav-item {
        // Setting Modal Item
            background: transparent;
            padding:    var(--scale-2-2)
                        var(--scale-2-4)
                        var(--scale-2-2)
                        var(--scale-2-8);
            border: 1px solid transparent;
            border-radius: var(--scale-2-2);
            border-left: none;
            margin: var(--scale-0-0)
                    var(--scale-2-4)
                    var(--scale-0-0)
                    var(--scale-2-4);

            transition: var(--duration-superfast)
                        var(--motion-smooth);

            &:last-of-type {
                margin-bottom: var(--scale-2-5);
            }

            &.is-active {
                font-weight: var(--font-bold);
            }

            .theme-light & {
                &:hover {
                    color: var(--color-l-gray-80);
                    background: var(--color-l-gray-10);
                }

                &:active {
                    color: var(--color-l-gray-50);
                    background: var(--color-l-gray-40);
                }

                &.is-active {
                    color: var(--color-l-whiter);
                    border: 1px solid rgba(100, 100, 100, 0.3);
                    box-shadow: 0px -2px 0px 0px
                                rgba(100, 100, 100, 0.15) inset,
                                0px 1px 4px 0px rgba(100, 100, 100, 0.25);
                }

                &:nth-child(3n+1).is-active {
                    background: var(--color-l-yellow-500);
                }

                &:nth-child(3n+2).is-active {
                    background: var(--color-l-red-300);
                }

                &:nth-child(3n+3).is-active {
                    background: var(--color-l-blue-300);
                }
            }

            .theme-dark & {
                &:hover {
                    color: var(--color-d-gray-20);
                    background: var(--color-d-gray-60);
                }

                &:active {
                    color: var(--color-d-gray-40);
                    background: var(--color-d-blacker);
                }

                &.is-active {
                    color: var(--color-d-black);
                    border: 1px solid rgba(0, 0, 0, 0.3);
                    box-shadow: 0px -2px 0px 0px
                                rgba(0, 0, 0, 0.2) inset,
                                0px 1px 4px 0px rgba(0, 0, 0, 0.3);
                }

                &:nth-child(3n+1).is-active {
                    background: var(--color-d-yellow-700);
                }

                &:nth-child(3n+2).is-active {
                    background: var(--color-d-red-500);
                }

                &:nth-child(3n+3).is-active {
                    background: var(--color-d-blue-300);
                }
            }
        }
    }

    /*─────────Command, Quick Switcher etc. Modals──────────*/
    &-container {
        & .suggestion-item {
            font-size: var(--font-scale-1);
            line-height: var(--line-height-0-5);
            padding:    var(--scale-2-3)
                        var(--scale-2-1)
                        var(--scale-2-3)
                        var(--scale-8-2);
            border-radius: var(--scale-2-2);
            border: 1px solid transparent;

            & span.suggestion-prefix {
                color: var(--text-muted);
                text-transform: uppercase;
                font-style: italic;
                margin-right: var(--scale-8-1);

                &::after { // Colon after Prefix
                    display: none;
                }
            }

            &.is-selected {
                .theme-light & {
                    background: var(--color-l-gray-20);
                    border: 1px solid var(--color-l-gray-40);

                    & kbd.suggestion-hotkey {
                        background: var(--color-l-whiter);
                    }

                    &:active {
                        color: var(--text-muted);
                        background: var(--color-l-gray-40);
                        border: 1px solid var(--color-l-gray-50);

                        & kbd.suggestion-hotkey {
                            background: var(--color-l-gray-20);
                            padding-top: 3px;
                            padding-bottom: 1px;
                            box-shadow: none;
                        }

                        & .suggestion-flair,
                        & .suggestion-note {
                            color: var(--text-faint);
                        }
                    }
                }

                .theme-dark & {
                    background: var(--color-d-gray-50);
                    border: 1px solid var(--color-d-gray-40);

                    & kbd.suggestion-hotkey {
                        background: var(--color-d-gray-70);
                    }

                    &:active {
                        color: var(--text-faint);
                        background: var(--color-d-gray-90);
                        border: 1px solid var(--color-d-gray-50);

                        & kbd.suggestion-hotkey {
                            background: var(--color-d-gray-100);
                            padding-top: 3px;
                            padding-bottom: 1px;
                            box-shadow: none;
                        }

                        & .suggestion-flair,
                        & .suggestion-note {
                            color: var(--text-faint);
                        }
                    }
                }
            }
        }

        & .suggestion-flair {
            position: relative;
            left: initial;
            top: initial;
            margin-right: var(--scale-2-3);
        }
    }

    /*─────────Community Themes Modal──────────*/
    &.mod-community-theme {
        background: var(--background-secondary);
        padding: 0;

        & .modal-content {
            padding:    var(--scale-8-4)
                        var(--scale-8-4)
                        var(--scale-8-4)
                        var(--scale-8-4);
            margin-top: 0;
        }
    }

    & .community-theme {
        border: 1px solid var(--background-modifier-border);
        transition: var(--duration-superfast)
                    var(--motion-smooth);

        &-filters-container .setting-item-control {
            justify-content: flex-end;

            & .search-input-container {
                width: 100%;
            }
        }

        .theme-light & {
            background: var(--background-primary);

            &:hover {
                border: 1px solid var(--text-faint);
            }

            &.is-selected {
                color: var(--text-normal);
                background: var(--color-l-whiter);
                border: 1px solid var(--text-muted);
                box-shadow: var(--shadow-m) 
                            var(--color-l-shadow-100);
            }
        }

        .theme-dark & {
            background: var(--background-primary);

            &:hover {
                border: 1px solid var(--text-faint);
            }

            &.is-selected {
                color: var(--text-normal);
                background: var(--color-d-gray-40);
                border: 1px solid var(--text-muted);
                box-shadow: var(--shadow-m) 
                            var(--color-d-shadow-100);
            }
        }

    }


    /*─────────Community Plugins Modal──────────*/
    .community-plugin {
        background: var(--background-primary);

        &-info {
            padding:    var(--scale-8-2)
                        var(--scale-0-0)
                        var(--scale-0-0)
                        var(--scale-8-3);
            margin: 0;
        }

        &-readme {
            padding:    var(--scale-0-0)
                        var(--scale-8-3)
                        var(--scale-0-0)
                        var(--scale-0-0);
            margin: 0;
        }

        &-name {
            font-weight: var(--font-bold);
        }

        &-item {
            margin: var(--scale-0-0)
                    var(--scale-0-0)
                    var(--scale-0-0)
                    var(--scale-0-0);
            border-bottom: 1px solid
                        var(--background-modifier-border);
            transition: var(--duration-superfast)
                        var(--motion-smooth);

            .theme-light & {
                &:hover,
                &span:hover {
                    color: var(--color-l-gray-80);
                    background: var(--color-l-gray-10);
                }
    
                &:active,
                &span:active {
                    color: var(--color-l-gray-50);
                    background: var(--color-l-gray-40);

                    & .flair.mod-pop {
                        color: var(--color-l-gray-50);
                        background: var(--color-l-gray-20);
                    }
                }
            }

            .theme-dark & {
                &:hover,
                &span:hover {
                    color: var(--color-d-gray-20);
                    background: var(--color-d-gray-60);
                }
    
                &:active,
                &span:active {
                    color: var(--color-d-gray-40);
                    background: var(--color-d-blacker);

                    & .flair.mod-pop {
                        color: var(--color-d-gray-40);
                        background: var(--color-d-gray-80);
                    }
                }
            }
        }

        &-search {
            padding:    var(--scale-2-4)
                        var(--scale-0-0)
                        var(--scale-0-0)
                        var(--scale-0-0);

            & .setting-item {
                display: initial;
                align-self: flex-start;
            }
        }

        & .flair.mod-pop {
            vertical-align: middle;
            font-weight: var(--font-semi-bold);

            .theme-light & {
                background: var(--color-l-whiter);
                color: var(--color-l-red-300);
            }

            .theme-dark & {
                background: var(--color-d-blacker);
                color: var(--color-d-red-500);
            }
        }
    }
}

/* Modal Close Close Buttons */
.modal-close-button {
    right: var(--scale-2-5);
    top: var(--scale-2-4);

    font-family: Inter, sans-serif;
    font-weight: 200;
    font-size: var(--scale-8-3);

    height: var(--scale-8-3);
    width: var(--scale-8-3);
    border-radius: var(--scale-8-3);
    z-index: 9;

    &:before {
        position: absolute;
        right: 4px;
        top: -2px;

        .theme-light & {
            color: var(--color-l-gray-20);
        }

        .theme-dark & {
            color: var(--color-d-gray-80);
        }
    }

    .theme-light & { // Modal Close Button Light Mode
        background: var(--color-l-red-300);
        box-shadow: 0px 1px 2px 0px 
                    rgba(100, 100, 100, 0.5),
                    0px -2px 0px 0px
                    rgba(100, 20, 20, 0.18) inset;
        &:hover {
            background: var(--color-l-red-500);
        }

        &:active {
            background: var(--color-l-red-700);
            box-shadow: 0px 0px 0px 2px 
                    rgba(150, 20, 20, 0.55) inset;

            &:before {
                color: var(--color-l-red-900);
            }
        }
    }

    .theme-dark & { // Modal Close Button Dark Mode
        background: var(--color-d-red-500);
        box-shadow: 0px 1px 2px 0px 
                    rgba(0, 0, 0, 0.25),
                    0px -2px 0px 0px
                    rgba(50, 10, 10, 0.35) inset;
        &:hover {
            background: var(--color-d-red-300);
        }

        &:active {
            background: var(--color-d-red-700);
            box-shadow: 0px 0px 0px 2px 
                    rgba(0, 0, 0, 0.45)  inset;

            &:before {
                color: var(--color-d-red-900);
            }
        }
    }
}

/*─────────Menu/More Options Modal──────────*/
.menu {
    // Styles both Light Mode and Dark Mode
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--scale-2-4);

    .theme-light & {
        box-shadow: var(--shadow-s)
                    var(--color-l-shadow-100);
    }

    .theme-dark & {
        box-shadow: var(--shadow-m)
                    var(--color-d-shadow-100);
    }
    
    & .menu-item {
        .theme-light & {
            &.selected:active {
                color: var(--color-l-gray-50);
                background: var(--color-l-gray-40);

                & .menu-item-icon svg {
                    background: var(--color-l-gray-50);
                }
            }
        }

        .theme-dark & {
            &.selected:active {
                color: var(--color-d-gray-40);
                background: var(--color-d-blacker);
                
                & .menu-item-icon svg {
                    background: var(--color-d-gray-40);
                }
            }
        }

        &.menu-item-icon {
            vertical-align: -1px;
        }
    }
}

/*─────────File Explorer Search Modal─────────*/
.suggestion {
    &-container.mod-search-suggestion {
        padding:    var(--scale-0-0)
                    var(--scale-0-0)
                    var(--scale-0-0)
                    var(--scale-0-0);
        border-radius: var(--scale-2-4);
        overflow-x: hidden;

        .theme-light & {
            box-shadow: var(--shadow-m)
                        var(--color-l-shadow-100);
        }
    
        .theme-dark & {
            box-shadow: var(--shadow-m)
                        var(--color-d-shadow-100);
        }
    }

    &-item {
        &.search-suggest-item {
            line-height: var(--line-height-0-5);
            white-space: pre-wrap;
            word-wrap: break-word;
            padding:    var(--scale-2-3)
                        var(--scale-2-8)
                        var(--scale-2-3)
                        var(--scale-2-8); 
            border-radius: 0;
            margin: 0;
            
            &:nth-of-child(6) {
                margin-bottom: var(--scale-2-2);
            }
            
            &:last-child {
                margin-bottom: var(--scale-2-2);
            }

            &:active {
                color: var(--color-l-gray-50);
                background: var(--color-l-gray-40);
            }
        }

        &.search-suggest-item.list-item.mod-group {
        // Modal Titles
            font-size: var(--font-scale-0-5);
            padding:    var(--scale-2-3)
                        var(--scale-2-6)
                        var(--scale-2-3)
                        var(--scale-2-6);
            border-radius: 0;
            border-bottom: 1px solid var(--background-modifier-border);
            margin: var(--scale-0-0)
                    var(--scale-0-0)
                    var(--scale-2-2)
                    var(--scale-0-0);
        }

        & .search-suggest-info-text {
            color: var(--text-muted);

            &:active {
                color: var(--text-faint);
            }
        }
    }
}

.list-item-part.search-suggest-icon.clickable-icon {
    margin: 0;
    margin-bottom: -4px;
}

/*─────────Prompts──────────*/
.prompt {
        // Border and Overflow Fix
        border-radius: var(--scale-2-8);
        overflow-y: hidden;

        &-results {
            padding-right: var(--scale-2-4);
        }

        // Styles both Light and Dark Mode
        border: 1px solid rgba(100, 100, 100, 0.25);
    .theme-light & {
        box-shadow: var(--shadow-xl)
                    var(--color-l-shadow-100);
    }

    .theme-dark & {
        box-shadow: var(--shadow-xl)
                    var(--color-d-shadow-100);
    }
}